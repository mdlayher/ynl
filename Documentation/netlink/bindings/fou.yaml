
name: fou

description: |
  Foo-over-UDP.

attribute_prefix: "FOU_ATTR_"

attributes: &all_attrs
  - port: &port
      type: u16
  - af: &af
      type: u8
  - ipproto: &ipproto
      type: u8
  - type: &type
      type: u8
  - remcsum_nopartial: &remcsum_nopartial
      type: flag
  - local_v4: &local_v4
      type: u32
  - peer_v4: &peer_v4
      type: u32
  - local_v6: &local_v6
      type: binary
      len: 16
  - peer_v6: &peer_v6
      type: binary
      len: 16
  - peer_port: &peer_port
      type: u16
  - ifindex: &ifindex
      type: s32

operation_prefix: "FOU_CMD_"

operations:
  - add:
      dont_validate: [ strict ]
      flags: [ admin_perm ]

      request: *all_attrs

  - del:
      dont_validate: [ strict ]
      flags: [ admin_perm ]

      request: *all_attrs

  - get:
      dont_validate: [ strict, dump ]

      request: *all_attrs

      reply: *all_attrs

      dump:

      dump-reply: *all_attrs
